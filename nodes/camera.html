<script type="text/html" data-template-name="camera">
  <div class="form-row">
    <label for="node-input-name">
      <i class="fa fa-tag"></i>
      Label
    </label>
    <input type="text" id="node-input-name" />
  </div>
  <div class="form-row">
    <label for="node-input-client">
      <i class="fa fa-globe"></i>
      Client
    </label>
    <input type="text" id="node-input-client" />
  </div>
</script>

<script type="text/javascript">
  RED.nodes.registerType('camera', {
    category: 'sscma',
    color: '#B29DDC',
    defaults: {
      option: { value: 0, required: true },
      client: { type: 'sscma', required: true, label: RED._('sscma') },
    },
    inputs: 0,
    outputs: 1,
    icon: 'font-awesome/fa-camera',
    label: function () {
      return this.name || 'camera';
    },
    oneditprepare: function () {},
  });

  RED.events.on('nodes:add', function (node) {
    const existingNodes = RED.nodes.filterNodes({ type: 'camera' });
    if (existingNodes.length > 1) {
      RED.notify('This node can only be instantiated once.', 'error');
      RED.nodes.remove(node.id);
    }
  });
</script>
<script type="text/html" data-help-name="camera">
  <p>
    A simple node that converts the message payloads into all lower-case
    characters
  </p>
</script>
