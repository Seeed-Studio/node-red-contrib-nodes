<script type="text/html" data-template-name="stream">
    <div class="form-row">
        <label for="node-input-name">
            <i class="fa fa-tag"></i>
            Label
        </label>
        <input type="text" id="node-input-name" />
    </div>
    <div class="form-row">
        <label for="node-input-client">
            <i class="fa fa-globe"></i>
            Client
        </label>
        <input type="text" id="node-input-client" />
    </div>
    <div class="form-row">
        <label for="node-input-protocol">
            <i class="fa fa-at"></i>
            Protocol
        </label>
        <select id="node-input-protocol" style="width: 70%;">
            <option value="0">RTSP</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-uri">
            <i class="fa fa-plug"></i>
            Port
        </label>
        <input type="number" id="node-input-port" min="1" max="65535" />
    </div>
    <div class="form-row">
        <label for="node-input-session">
            <i class="fa fa-comments"></i>
            Session
        </label>
        <input type="text" id="node-input-session" maxlength="8" />
    </div>
    <div class="form-row">
        <label for="node-input-username">
            <i class="fa fa-user"></i>
            Username
        </label>
        <input type="text" id="node-input-username" maxlength="32" />
    </div>
    <div class="form-row">
        <label for="node-input-password">
            <i class="fa fa-lock"></i>
            Password
        </label>
        <input type="password" id="node-input-password" maxlength="32" />
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType("stream", {
        category: "Vision AI",
        color: "#E28B8B",
        defaults: {
            name: { value: this.name || "stream" },
            protocol: { value: 0 },
            port: { value: 554, required: true },
            session: { value: "live", required: true },
            username: { value: "admin", required: false },
            password: { value: "admin", required: false },
            client: { type: "sscma", required: true, label: RED._("sscma") },
        },
        inputs: 1,
        outputs: 0,
        icon: "font-awesome/fa-video-camera",
        label: function () {
            return this.name || "stream";
        },
    });
</script>
<script type="text/markdown" data-help-name="stream">
This is the `Stream node` for Seeed SenseCraft Model Assistant such as reCamera or Pi camera.

### Input

Wire the camera node to the stream node to enable the streaming.

### Parameter

#### Configuration

Please also select sscma for the client.

#### Audio
Checkbox to enable audio with streaming.

### Output

You can then use other applications such as VLC to view the RTSP stream out from reCamera. As an example in the above screenshot, you can use `rtsp://admin:admin@192.168.42.1:554/live` in VLC then you can see the H.264 streaming video.

#### Video Parameter

-   By default, the video parameters are set to 1920x1800 at 30fps.

#### Latency

The latency varies depending on the end applications you are using. For example, the latency with VLC is 500 ms.
</script>
